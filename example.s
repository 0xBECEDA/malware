	.file	"example.s"
	.text
	.globl	_start
	.type	_start, @function

num:
    .long ~0x3FF

_start:

    mov $num, %rdi    # получили число-кальку
    mov (%rdi), %rdi

    mov $_start, %rax  # выравниваем адрес
    and %rdi, %rax
    mov %rax, %rcx

    mov $_start, %rax  # выясняем, насколько дальше этот адрес от start
    sub %rdi,  %rax

    mov $_start, %rdi    # узнала размер интересующей меня памяти
    mov $stack_end, %rsi
    sub %rdi, %rsi

    add %rax, %rsi  # сложили его с тем, с дополнительной памятью от начала
                    # страницы до start

    mov %rcx, %rdi
    mov $7, %rdx
    mov $10, %rax

    syscall

    mov $stack_end, %rsp
    push %rsp
    mov $60, %rax
    mov $0, %rdi
    syscall

    #.data
stack_begin:
    .space 1000, 0
stack_end:
