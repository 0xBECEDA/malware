/* gcc test.c -o test */
/* #include <sys/types.h> */
#include <stdio.h>

typedef struct timespec {
    long  tv_sec;     /* seconds */
    long  tv_nsec;    /* and nanoseconds */
}timespec;

typedef struct stat64 {
    long unsigned int st_dev;
    long unsigned int st_ino;
    long int st_mode;
    long unsigned int st_nlink;
    unsigned int st_uid;
    unsigned int st_gid;
    long unsigned int st_rdev;
    long int st_size;
    struct timespec st_atime;
    struct timespec st_mtime;
    struct timespec st_ctime;
    long int st_blksize;
    long int st_blocks;
#define st_atime st_atim.tv_sec      /* Backward compatibility */
#define st_mtime st_mtim.tv_sec
#define st_ctime st_ctim.tv_sec

} stat64;


void call_stat ( char* path_name, stat64 *stat ) {
    __asm__( "mov $4, %rax\n\t"
             "syscall\n\t");
}

stat64 *stat ( char* path_name ) {
    stat64 *mystruct;
    call_stat ( path_name, mystruct );
}

void my_mmap( void *start, long long length, int prot , int flags, int fd,
              long long offset ) {
}

int main () {
    /* stat64 *mystruct = stat ( "parse" ); */
    /* stat64 mystruct2 = *mystruct; */
    /* printf("%u \n", mystruct2.st_mode); */
    printf("size %ld \n", sizeof(stat64));

}
